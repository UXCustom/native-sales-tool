$(document).ready(function(){function e(e,t){colorsObj[e]=t,tempTxt="php/css.php?"+$.param(colorsObj),$("#sheet1").attr("href",tempTxt)}function t(){var e=$(window).outerHeight(),t=$(".demo-header").outerHeight(),o=$(".demo-footer").outerHeight(),i=e-t-o;$("#editWindow").css("height",e),$(".demo-settings").css("height",i)}function o(){var e=$("#editWindow"),t=$("#micrositeWrapper"),o=$("#articleHeader"),i=$("#articleNavigationContainer");e.hasClass("open")?(t.addClass("editWindowOpen"),o.addClass("editWindowOpened"),i.addClass("editWindowOpened")):(t.removeClass("editWindowOpen"),o.removeClass("editWindowOpened"),i.removeClass("editWindowOpened"))}function i(e){return window.open(e||"","popupWindow","width=600,height=600")}function a(e){e.preventDefault(),i($(this).attr("href"))}function n(e){"video-1"!=e.target.id&&($(e.target).closest("#video-1").length||$(e.target).closest("#videoModalPlaylistContainer").length||$(e.target).closest("#videoModalPlaylistInfoContainer").length||(videojs("#video-1").pause(),$("#videoModal").removeClass("showModal"),$("body").removeClass("noScroll"),videojs("#video-1").dispose(),$("#video-1").remove(),$("ol.vjs-playlist").unwrap().unwrap().children().remove(),$(".bx-controls").remove(),$("#videoModalPlaylistInfoContainer p span").text(""),posterArray=[]))}function l(){D.hasClass("socialMenuOpen")?setTimeout(function(){D.toggleClass("topicsMenuOpen"),$(".hamburger").addClass("is-active")},500):(D.toggleClass("topicsMenuOpen"),$(".hamburger").toggleClass("is-active")),D.removeClass("socialMenuOpen")}function s(){D.hasClass("topicsMenuOpen")?setTimeout(function(){D.toggleClass("socialMenuOpen")},500):(D.toggleClass("socialMenuOpen"),$(".hamburger").removeClass("is-active")),$(".hamburger").removeClass("is-active"),D.removeClass("topicsMenuOpen")}function r(){$("#articleNavigation").toggleClass("showMainNav")}function c(){$("#articleResourcesNav").toggleClass("showReourcesNav")}function d(){$(window).width()>640&&$("body").hasClass("menuOpen")&&($("body").removeClass("menuOpen"),$("#articleMenusCompress").removeClass("show"))}function h(){var e=$(this).scrollTop();Math.abs(q-e)<=E||(e>q&&e>V?$("#articleSponsorContainer").removeClass("nav-down").addClass("nav-up"):e+$(window).height()<$(document).height()&&$("#articleSponsorContainer").removeClass("nav-up").addClass("nav-down"),q=e)}function u(){function e(e){var t=$(e),o=t.data("submenuId"),i=$("#"+o);i.css({display:"block"}),t.find("> a").addClass("maintainHover")}function t(e){var t=$(e),o=t.data("submenuId"),i=$("#"+o);i.css("display","none"),t.find("> a").removeClass("maintainHover")}var o=$(".collapseMain #articleMainNav");$(window).width()>=960?o.menuAim({activate:e,deactivate:t}):o.menuAim({activate:t})}function p(){$(".articleListing ul").addClass("viewAll").css("margin-bottom","40px"),$(this).remove()}function v(){$(this).siblings("ul").addClass("viewAll").css("margin-bottom","40px"),$(this).remove()}function f(){$(this).siblings("ul").addClass("viewAll").css("margin-bottom","40px"),$(this).remove()}function g(){$("#downloadResources .listContainer").each(function(){$(window).width()<640?$(".additionalDownloads li",this).length<3?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"):$(window).width()<960?$(".additionalDownloads li",this).length<7?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"):$(window).width()>=960&&($(".additionalDownloads li",this).length<12?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"))})}function m(){$("#articleResources .listContainer").each(function(){$(window).width()<640?$("ul li",this).length<3?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"):$(window).width()<960?$("ul li",this).length<5?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"):$(window).width()>=960&&($("ul li",this).length<6?$(this).find(".loadMore").hide():$(this).find(".loadMore").css("display","block"))})}function w(){$(window).width()<640?$("#topicBodyContent .articleListing ul li").length<=3?$("#topicBodyContent .articleListing").find(".loadMore").hide():$("#topicBodyContent .articleListing").find(".loadMore").css("display","block"):$(window).width()<960?$("#topicBodyContent .articleListing ul li").length<=6?$("#topicBodyContent .articleListing").find(".loadMore").hide():$("#topicBodyContent .articleListing").find(".loadMore").css("display","block"):$(window).width()>=960&&($("#topicBodyContent .articleListing ul li").length<=6?$("#topicBodyContent .articleListing").find(".loadMore").hide():$("#topicBodyContent .articleListing").find(".loadMore").css("display","block"))}if(colorsObj=new Object,$("input[type=color]").change(function(){colorKey=$(this).attr("class"),colorValue=$(this).val().replace("#",""),e(colorKey,colorValue);var t=$("#sheet1").attr("href");localStorage.setItem("css",t)}),$("#changeTitle").on("input",function(){$(".siteTitle").text($(this).val()),""==$(this).val()&&$(".siteTitle").text("Productivity and Collaboration"),localStorage.setItem("title",$(this).val())}),$("#layoutChoice").on("change",function(){"A"==$("#layoutChoice option:selected").val()?($("#homepage #additionalResources").css("display","none"),$("#homepage #additionalDownloads, #resources").css("display","block")):($("#homepage #additionalDownloads, #resources").css("display","none"),$("#homepage #additionalResources").css("display","block"))}),null!=localStorage.getItem("css")&&$("#sheet1").attr("href",localStorage.getItem("css")),null!=localStorage.getItem("title")){var C=localStorage.getItem("title");$(".siteTitle").text(C),$("#changeTitle").val(C)}else $("#changeTitle").val("Productivity and Collaboration");$(".reset").on("click",function(){localStorage.clear(),window.location.reload()}),t(),$(".pull").on("click",function(){o()}),$(".icon-close").on("click",function(){"#changeTitle".length>0&&$("#changeTitle").attr("value","")});var y={requestUrl:"http://api.bit.ly/v3/shorten",login:"uxtechtarget",key:"R_3711c9f9013670f25d70b047c8deb6f2"},b=function(e){return $.Deferred(function(t){$.ajax({url:y.requestUrl,contentType:"application/x-www-form-urlencoded",dataType:"jsonp",data:{login:y.login,apiKey:y.key,longUrl:e}}).done(function(e){if("OK"===e.status_txt){var o=e.data.url;t.resolve(o)}else t.resolve("")}).fail(function(){t.resolve("")})}).promise()},M=$(".socialMedia-facebook"),k=$(".socialMedia-twitter"),O=$(".socialMedia-linkedin");if(M.length+k.length+O.length!=0){var x=$('link[rel="canonical"]').attr("href")||window.location.href,T=$("a",M),B=$("a",k),N=$("a",O),I=T.add(B).add(N);I.one("click",function(e){e.preventDefault(),I.off("click");var t=$(this),o=i();b(x).done(function(e){var t=encodeURIComponent(e||x),o=encodeURIComponent($(".main-article-title").text()||document.title);T.attr("href","http://www.facebook.com/share.php?u="+t+"&t="+o),B.attr("href","https://twitter.com/intent/tweet?text="+o+"&url="+t+(k.attr("data-account")?"&via="+encodeURIComponent(k.attr("data-account")):"")+(k.attr("data-related")?"&related="+encodeURIComponent(k.attr("data-related")):"")),N.attr("href","http://www.linkedin.com/shareArticle?mini=true&url="+t+"&title="+o),I.on("click",a)}).then(function(){var e=t.attr("href");o.location=e})});var R=$("li.contentTools-email a");if(R.length){var L="http://api.addthis.com/oexchange/0.8/forward/email/offer?",W=$(".main-article-title").text()||document.title,S={pubid:"uxtechtarget",url:window.location.href,title:W},j=L+$.param(S);R.attr("href",j).on("click",a),$(".hamburger").addClass("hamburger--elastic"),"ontouchstart"in document.documentElement||(document.documentElement.className+="no-touch"),"undefined"==typeof window.getComputedStyle(document.body).backgroundBlendMode&&$(".heroPrimary").addClass("no-background-blend-mode"),$("#videoModal p.closeButton").remove(),$("#videoModalPlayerContainer").append('<a class="closeButton">&times;</a>'),$("#videoModal").on("click",n);var H,A=$(".hamburger"),D=$("body"),P=$(".topicsButton"),U=$(".socialButton"),K=$("#articleNavigation ul#articleResourcesNav > li:first-child"),_=function(){var e=$("#articleNavigationCompress").width(),t=$("#articleResourcesNav").outerWidth(!0),o=e-t,i=0;$("#articleMainNav > li").each(function(){i+=$(this).outerWidth(!0)}),i>o?$("#articleNavigation").addClass("collapseMain").css("visibility",""):$("#articleNavigation").css("visibility","visible")},q=0,E=5,V=$("#articleSponsorContainer").outerHeight();$(window).scroll(function(){H=!0}),setInterval(function(){H&&$(window).width()<960&&(h(),H=!1)},250),$(document).click(function(e){"topicsButton"==e.target.id||$(e.target).is(".icon-menu")||($("#articleNavigation").removeClass("showMainNav"),$("#articleMainNav > li > ul").css("display",""),$("a.maintainHover").removeClass("maintainHover"))});var z=($(".latest-wrapper"),$(window)),F=($("#micrositeWrapper"),.8*$("#article").height());$overlay=$("#overlay"),overlayCloseBtn=$("#overlay a");var G=function(){$overlay.animate({bottom:0},1500)};overlayCloseBtn.on("click",function(){$overlay.remove()}),$(window).on("scroll",function(){(z.scrollTop()+z.height()>=F||z.scrollTop()>=850)&&G()});var J=function(){$("#articleRight").appendTo("#articleContainer").fadeIn("slow")};$("footer .footerRight .footerLinks li:last-child p").text("Â© 2016 TechTarget"),_(),u(),J(),g(),m(),w(),A.on("tapone",l),U.on("tapone",s),P.on("click",r),K.on("click",c),$("#topicBodyContainer .loadMore").on("click",p),$("#articleListContainer .loadMore").each(function(){$(this).on("click",v)}),$("#downloadListContainer .loadMore").each(function(){$(this).on("click",f)}),window.location.href.indexOf("document")>-1&&$("#articleNavigationContainer").remove(),$("a[href*='/document/']").attr("target","_blank"),$(window).on("resize",function(){t(),_(),u(),d(),g(),m(),w()})}}});